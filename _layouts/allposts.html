<!DOCTYPE html>
<html>
  {% include head.html %}
  <style>
    /* sort-toggle 樣式 */
    .sort-toggle {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 2rem 0;
    }
    .sort-toggle button {
      padding: 0.6rem 1.5rem;
      font-size: 0.95rem;
      font-weight: 600;
      border: 2px solid #5eead4;
      border-radius: 8px;
      background: transparent;
      color: #5eead4;
      cursor: pointer;
      transition: all 0.25s ease;
      letter-spacing: 0.5px;
    }
    .sort-toggle button:hover {
      background: rgba(94, 234, 212, 0.1);
    }
    .sort-toggle button.active,
    .sort-toggle button[aria-pressed="true"] {
      background: #5eead4;
      color: #0a0a0a;
      box-shadow: 0 0 12px rgba(94, 234, 212, 0.4);
    }
  </style>
  <body>

    {% include header.html %} 
    
    
    <!-- Main -->
    <div id="main" class="alt">

      <!-- One -->
<section id="one">
  <div class="inner">
    <!-- 排序按鈕（放喺 inner 裡，保持間距） -->
    <div class="sort-toggle">
  <button id="sort-oldest" class="active" aria-pressed="true">OLD TO NEW</button>
  <button id="sort-newest" aria-pressed="false">NEW TO OLD</button>
    </div>

    <!-- 注意：保留 .inner（上面那層），#post-list 嵌入其內 -->
    <div id="post-list">
      {% for post in site.posts reversed %}
        {% if post.title != 404 %}
          <article class="post-summary">
            <header class="major">
              <h1>{{ post.title }}</h1>
            </header>
            {% if post.date %}<p class="post-date">{{ post.date | date: "%Y-%m-%d" }}</p>{% endif %}
            {% if post.image %}<span class="image main"><img src="{{ site.baseurl }}/{{ post.image }}" alt="" /></span>{% endif %}
            <p>{{ post.content }}</p>
          </article>

          {% unless forloop.last %}
            <hr class="post-divider" />
          {% endunless %}
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const container = document.getElementById("post-list");
  const articles = Array.from(container.querySelectorAll('article.post-summary'));
  const original = articles.slice();

  function render(list) {
    container.innerHTML = "";
    const frag = document.createDocumentFragment();
    list.forEach((article, idx) => {
      frag.appendChild(article);
      if (idx !== list.length - 1) {
        const hr = document.createElement('hr');
        hr.className = 'post-divider';
        frag.appendChild(hr);
      }
    });
    container.appendChild(frag);
  }

  // 初始化
  render(original);

  const btnOldest = document.getElementById('sort-oldest');
  const btnNewest = document.getElementById('sort-newest');

  function setActive(activeBtn, inactiveBtn, list) {
    render(list);
    activeBtn.classList.add("active");
    activeBtn.setAttribute("aria-pressed", "true");
    inactiveBtn.classList.remove("active");
    inactiveBtn.setAttribute("aria-pressed", "false");
  }

  btnOldest.addEventListener("click", () => setActive(btnOldest, btnNewest, original.slice()));
  btnNewest.addEventListener("click", () => setActive(btnNewest, btnOldest, original.slice().reverse()));
});
</script>
    </div>

    {% include footer.html %}

  </body>

</html>
