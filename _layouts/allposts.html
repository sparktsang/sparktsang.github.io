<div class="sort-toggle" style="margin-bottom: 1em;">
  <button id="sort-oldest">OLD TO NEW</button>
  <button id="sort-newest">NEW TO OLD</button>
</div>

<div id="post-list">
  {% for post in site.posts reversed %}
    {% if post.title != 404 %}
      <article class="post-summary">
        <header class="major">
          <h1>{{ post.title }}</h1>
        </header>
        {% if post.date %}
          <p class="post-date">{{ post.date | date: "%Y-%m-%d" }}</p>
        {% endif %}
        {% if post.image %}
          <span class="image main">
            <img src="{{ site.baseurl }}/{{ post.image }}" alt="" />
          </span>
        {% endif %}
        <p>{{ post.content }}</p>
      </article>
      {% unless forloop.last %}
        <hr class="post-divider" />
      {% endunless %}
    {% endif %}
  {% endfor %}
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById("post-list");
    const posts = Array.from(container.children);

    document.getElementById("sort-newest").addEventListener("click", () => {
      container.innerHTML = "";
      posts.slice().reverse().forEach(p => container.appendChild(p));
    });

    document.getElementById("sort-oldest").addEventListener("click", () => {
      container.innerHTML = "";
      posts.forEach(p => container.appendChild(p));
    });
  });
</script>
